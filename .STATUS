## Project: atlas
## Type: node-package
## Status: active
## Phase: ðŸ”§ Development
## Priority: 1

## Focus: State engine extraction complete, testing integration

## Quick Context
Atlas is the project state engine extracted from flow-cli. Clean Architecture with 
domain entities (Project, Session, Capture, Breadcrumb), use-cases, and adapters.
CLI and programmatic API available.

## Recent Progress
- [x] Extracted Clean Architecture code from flow-cli/cli
- [x] Added Capture and Breadcrumb entities
- [x] Created capture and context use-cases
- [x] Updated Container with all repositories
- [x] CLI commands: project, session, catch, crumb, where, trail

## Current Tasks
- [x] Write tests for new Capture/Breadcrumb entities (62 tests)
- [x] Implement SQLite repository option for performance
- [x] Add registry persistence via SyncRegistryUseCase
- [x] Complete sync command for .STATUS files

## Next Tasks
- [ ] Add CLI flag for SQLite storage (--storage sqlite)
- [ ] Create migration tool (JSON â†’ SQLite)
- [ ] Add watch mode for sync command
- [ ] Implement RegisterProjectUseCase (manual add)

## Blockers
None

## Links
- flow-cli: ~/projects/dev-tools/flow-cli

## Architecture
```
atlas/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ domain/          # Entities, Value Objects
â”‚   â”œâ”€â”€ use-cases/       # Business logic
â”‚   â”œâ”€â”€ adapters/        # Repositories, Container
â”‚   â”œâ”€â”€ cli/             # CLI commands
â”‚   â””â”€â”€ api/             # Programmatic API
â””â”€â”€ test/                # Unit, Integration, E2E
```

## Session Log
- 2025-12-25: Initial restructuring from flow-cli
- 2025-12-25: Added Capture/Breadcrumb entities + tests (62 new tests)
- 2025-12-25: Implemented SQLite storage backend (29 integration tests)
- 2025-12-25: Added SyncRegistryUseCase for .STATUS file integration
